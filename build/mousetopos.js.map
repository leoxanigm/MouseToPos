{"version":3,"file":"mousetopos.js","mappings":"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","sources":["webpack://MouseToPos/webpack/universalModuleDefinition","webpack://MouseToPos/webpack/bootstrap","webpack://MouseToPos/webpack/runtime/define property getters","webpack://MouseToPos/webpack/runtime/hasOwnProperty shorthand","webpack://MouseToPos/./src/lib/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MouseToPos\"] = factory();\n\telse\n\t\troot[\"MouseToPos\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _MouseToPos_instances, _MouseToPos_container, _MouseToPos_events, _MouseToPos_rows, _MouseToPos_cols, _MouseToPos_eventMap, _MouseToPos_outputFunction, _MouseToPos_greedy, _MouseToPos_prevX, _MouseToPos_prevY, _MouseToPos_init, _MouseToPos_eventHandler;\nimport './index.css';\nclass MouseToPos {\n    constructor(options) {\n        var _a, _b;\n        _MouseToPos_instances.add(this);\n        _MouseToPos_container.set(this, void 0);\n        _MouseToPos_events.set(this, void 0);\n        _MouseToPos_rows.set(this, void 0);\n        _MouseToPos_cols.set(this, void 0);\n        _MouseToPos_eventMap.set(this, {\n            hover: 'mousemove',\n            click: 'mousedown'\n        });\n        _MouseToPos_outputFunction.set(this, void 0);\n        _MouseToPos_greedy.set(this, void 0);\n        _MouseToPos_prevX.set(this, void 0);\n        _MouseToPos_prevY.set(this, void 0);\n        _MouseToPos_eventHandler.set(this, (e, element, event) => {\n            e.stopPropagation();\n            const { x, y, width, height } = this.getXY(e, element);\n            if (__classPrivateFieldGet(this, _MouseToPos_greedy, \"f\")) {\n                __classPrivateFieldGet(this, _MouseToPos_outputFunction, \"f\").call(this, x, y, event);\n            }\n            else if (x !== __classPrivateFieldGet(this, _MouseToPos_prevX, \"f\") || y !== __classPrivateFieldGet(this, _MouseToPos_prevY, \"f\") || event === 'click') {\n                __classPrivateFieldGet(this, _MouseToPos_outputFunction, \"f\").call(this, x, y, event);\n                __classPrivateFieldSet(this, _MouseToPos_prevX, x, \"f\");\n                __classPrivateFieldSet(this, _MouseToPos_prevY, y, \"f\");\n            }\n            return;\n        });\n        this.getXY = (e, element) => {\n            const { clientX, clientY } = e;\n            let { top, left, width, height } = element.getBoundingClientRect();\n            const divisionWidth = width / __classPrivateFieldGet(this, _MouseToPos_cols, \"f\");\n            const divisionHeight = height / __classPrivateFieldGet(this, _MouseToPos_rows, \"f\");\n            const x = Math.floor((clientX - left) / divisionWidth) * divisionWidth;\n            const y = Math.floor((clientY - top) / divisionHeight) * divisionHeight;\n            return {\n                x,\n                y,\n                width: divisionWidth,\n                height: divisionHeight\n            };\n        };\n        __classPrivateFieldSet(this, _MouseToPos_container, options.container, \"f\");\n        __classPrivateFieldSet(this, _MouseToPos_events, options.events, \"f\");\n        __classPrivateFieldSet(this, _MouseToPos_outputFunction, options.outputFunction, \"f\");\n        __classPrivateFieldSet(this, _MouseToPos_rows, ((_a = options.subdivision) === null || _a === void 0 ? void 0 : _a.rows) || 1, \"f\");\n        __classPrivateFieldSet(this, _MouseToPos_cols, ((_b = options.subdivision) === null || _b === void 0 ? void 0 : _b.cols) || 1, \"f\");\n        __classPrivateFieldSet(this, _MouseToPos_greedy, options.greedy || false, \"f\");\n        __classPrivateFieldGet(this, _MouseToPos_instances, \"m\", _MouseToPos_init).call(this);\n    }\n}\n_MouseToPos_container = new WeakMap(), _MouseToPos_events = new WeakMap(), _MouseToPos_rows = new WeakMap(), _MouseToPos_cols = new WeakMap(), _MouseToPos_eventMap = new WeakMap(), _MouseToPos_outputFunction = new WeakMap(), _MouseToPos_greedy = new WeakMap(), _MouseToPos_prevX = new WeakMap(), _MouseToPos_prevY = new WeakMap(), _MouseToPos_eventHandler = new WeakMap(), _MouseToPos_instances = new WeakSet(), _MouseToPos_init = function _MouseToPos_init() {\n    if (typeof __classPrivateFieldGet(this, _MouseToPos_events, \"f\") === 'undefined' || !Array.isArray(__classPrivateFieldGet(this, _MouseToPos_events, \"f\"))) {\n        throw new TypeError('You must provide an event list with at least one event.');\n    }\n    if (!(__classPrivateFieldGet(this, _MouseToPos_container, \"f\") instanceof HTMLElement)) {\n        throw new TypeError('You must provide a container element.');\n    }\n    __classPrivateFieldGet(this, _MouseToPos_events, \"f\").forEach((event) => {\n        const mouseEvent = __classPrivateFieldGet(this, _MouseToPos_eventMap, \"f\")[event];\n        __classPrivateFieldGet(this, _MouseToPos_container, \"f\").addEventListener(mouseEvent, (e) => {\n            __classPrivateFieldGet(this, _MouseToPos_eventHandler, \"f\").call(this, e, __classPrivateFieldGet(this, _MouseToPos_container, \"f\"), event);\n        });\n    });\n};\nexport default MouseToPos;\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","_MouseToPos_instances","_MouseToPos_container","_MouseToPos_events","_MouseToPos_rows","_MouseToPos_cols","_MouseToPos_eventMap","_MouseToPos_outputFunction","_MouseToPos_greedy","_MouseToPos_prevX","_MouseToPos_prevY","_MouseToPos_init","_MouseToPos_eventHandler","__classPrivateFieldSet","receiver","state","value","kind","f","TypeError","has","set","__classPrivateFieldGet","WeakMap","WeakSet","this","Array","isArray","HTMLElement","forEach","event","mouseEvent","addEventListener","e","constructor","options","_a","_b","add","hover","click","element","stopPropagation","x","y","width","height","getXY","clientX","clientY","top","left","getBoundingClientRect","divisionWidth","divisionHeight","Math","floor","container","events","outputFunction","subdivision","rows","cols","greedy"],"sourceRoot":""}